<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://thymeleaf.org">
<head>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Meu site</title>
</head>
<body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
<header>
    <nav>
        <ul>
            <li>Cadastro de pessoas</li>
        </ul>
    </nav>
</header>
<div class="row">
    <form action="/salvar-pessoa" method="post" th:object="${pessoaobj}" class="col s12">
        <div class="row">
            <div class="input-field col s6">
                <label for="id" class="active">ID</label>
                <input name="id" th:field="*{id}" readonly="readonly" id="id" class="validate">
            </div>
            <div class="input-field col s6">
                <label for="nome" class="active"> Nome</label>
                <input name="nome" th:field="*{nome}" id="nome" class="validate">
            </div>
        </div>
        <div class="row">
            <div class="input-field col s12">
        <label for="sobrenome" class="active"> Sobrenome</label>
        <input name="sobrenome" th:field="*{sobrenome}" id="sobrenome" class="validate">
            </div>
        </div>
        <input class="waves-effect waves-light btn" type="submit" value="Salvar">
    </form>
</div>
<br/>
<br/>
<a href="/pessoas">Lista</a>
<br/>
<br/>
<form action="/pesquisar-pessoa" method="post">
    <label> Pesquisa por nome:</label>
    <input name="nomepesquisa">
    <input class="waves-effect waves-light btn"  type="submit" value="Buscar">
</form>
<br/>
<br/>
<table>
    <tr th:each="pessoa : ${pessoas}">
        <td th:text="${pessoa.id}"></td>
        <td th:text="${pessoa.nome}"></td>
        <td th:text="${pessoa.sobrenome}"></td>
        <td><a th:href="@{/editar-pessoa/{idpessoa}(idpessoa=${pessoa.id})}"> Editar </a></td>
        <td><a th:href="@{/excluir-pessoa/{idpessoa}(idpessoa=${pessoa.id})}"> Excluir </a></td>
    </tr>
</table>
<footer>
    <p>Copyright 2021 Murilo Eduardo</p>
</footer>
</body>
</html>